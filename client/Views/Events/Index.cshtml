@model client.Controllers.EventsViewModel

@{
    ViewData["Title"] = "Tapahtumat";

    string GetDateStr(Event item, bool clock)
    {
        var DateStart = item.Date.HasValue ? item.Date.Value.ToString("dd.MM.yyyy HH:mm") : "";
        var DateEnd = item.Date.HasValue ? item.DateEnd.Value.ToString("dd.MM.yyyy HH:mm") : "";
        var DayStart = item.Date.HasValue ? item.Date.Value.ToString("dd") : "";
        var DayEnd = item.DateEnd.HasValue ? item.DateEnd.Value.ToString("dd") : "";
        var Month = item.Date.HasValue ? item.Date.Value.ToString("MM", new System.Globalization.CultureInfo("fi-FI")) : "";
        var Year = item.Date.HasValue ? item.Date.Value.ToString("yyyy") : "";
        var Hours = item.Date.HasValue ? item.Date.Value.ToString("HH") : "";
        var Minutes = item.Date.HasValue ? item.Date.Value.ToString("mm") : "";

        string str = "";
        @if (DayStart != DayEnd)
        {
            str=$"{DayStart}.-{DayEnd}.{Month} {Year}";
        }
        else
        {
            str=$"{DayStart}.{Month} {Year}";
        }
         if ( clock )
                str += $" {Hours}:{Minutes}";
        return str;
    }
}

<div style="height: 2rem;"></div>
    <div style="text-align: center">
        <img src="~/images/lippuotsikko.png" class="responsive-image" alt="Liputjaohjelma" style="height:6rem" />
    </div>


@foreach (var item in Model.ComingEvents) {
    <h3 class="event-title a text-center"><a asp-action="Details" asp-route-id="@item.EventId">@Html.DisplayFor(modelItem => item.Name)</a></h3>
    <div class="text-center event-countdown">@GetDateStr(item,true)</div>
}
<hr/>
<div style="height: 2rem;"></div>
    <div style="text-align: center" >
    <img src="~/images/NewFolder/menneet.png" alt="Menneet" style="height:8rem" class="responsive-image" />
    </div>
<div style="height: 2rem;"></div>
@foreach (var item in Model.PastEvents)
{
    <h3 class ="event-title a text-center"><a asp-action="Details" asp-route-id="@item.EventId">@Html.DisplayFor(modelItem => item.Name)</a></h3>
    <div class="text-center event-countdown"> @GetDateStr(item,false)</div>
}
<div style="height:2rem"></div>
